(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{X1CY:function(t,e,a){"use strict";a.r(e);var n={name:"articleList",data:function(){return{total:0,currentPage:1,sort:null,articletData:[]}},methods:{handleEdit:function(t,e){this.$router.push({path:"/addArticleEditor",query:{articleId:e.id}})},handleDelete:function(t,e){console.log(t,e);var a=this;this.$request.fetchDelArticle({id:e.id}).then((function(t){console.log(t),a.$message({showClose:!0,message:t.data.message,type:"success"}),a.getList({currentPage:a.currentPage,pageSize:10,sort:null})})).catch((function(t){console.log(t)}))},currentChange:function(t){console.log(t),this.currentPage=t,this.getList({currentPage:t,pageSize:10,sort:null})},getList:function(t){var e=this;this.$request.fetchArticleList(t).then((function(t){for(var a=0;a<t.data.rows.length;a++)t.data.rows[a].created_at=e.$getDateDiff(t.data.rows[a].created_at),t.data.rows[a].title.length>22&&(t.data.rows[a].title=t.data.rows[a].title.substring(0,22)+"...");e.total=t.data.count,e.articletData=t.data.rows})).catch((function(t){console.log(t)}))}},mounted:function(){this.getList({currentPage:1,pageSize:10,sort:null})}},l=a("KHd+"),r=Object(l.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{attrs:{data:t.articletData}},[a("el-table-column",{attrs:{fixed:"",prop:"created_at",label:"发布时间",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"title",label:"文章标题"}}),t._v(" "),a("el-table-column",{attrs:{prop:"comment_num",label:"评论数",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"praise_num",label:"点赞数",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"author",label:"作者",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"read_num",label:"浏览数",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"hide-on-single-page":!0},on:{"current-change":t.currentChange,"prev-click":t.currentChange,"next-click":t.currentChange}})],1)}),[],!1,null,"3a967999",null);e.default=r.exports}}]);
//# sourceMappingURL=7.9b9d0a0a0f88425871f8.js.map
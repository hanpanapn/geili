(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"3Mbc":function(e,t,s){"use strict";var r=s("Wb2Z");s.n(r).a},"88al":function(e,t,s){"use strict";s.r(t);var r=s("14Xm"),o=s.n(r),i=s("D3Ub"),n=s.n(i),a={props:{dialogVisible:{type:Boolean,default:!1},formkey:{type:Number,default:0}},mounted:function(){var e=this;return n()(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("重新"),!e.formkey){t.next=4;break}return t.next=4,e.getModel(e.formkey);case 4:case"end":return t.stop()}}),t,e)})))()},data:function(){return{visible:this.dialogVisible,ruleForm2:{name:""},rules:{name:[{required:!0,message:"请输入分类名称",trigger:"blur"}]}}},methods:{closeCallback:function(){this.$emit("successCallback")},submitForm:function(e){var t=this,s=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;var r={};for(var o in s.ruleForm2)r[o]=s.ruleForm2[o];t.$request.fetchGoodCategoryForm(r).then((function(e){s.$message({showClose:!0,message:e.data.message,type:"success"}),s.visible=!1})).catch((function(e){console.log(e)}))}))},resetForm:function(e){this.$refs[e].resetFields()},getModel:function(e){var t=this;return n()(o.a.mark((function s(){var r;return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,t.$axios.post("/goodcategory/getmodel",{id:e});case 2:r=s.sent,t.ruleForm2=r.data;case 4:case"end":return s.stop()}}),s,t)})))()}}},l=(s("3Mbc"),s("KHd+")),c={components:{PageForm:Object(l.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{title:"添加分类1",width:"600px",visible:e.visible,"destroy-on-close":""},on:{"update:visible":function(t){e.visible=t},close:e.closeCallback}},[s("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"分类名称",prop:"name"}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.ruleForm2.name,callback:function(t){e.$set(e.ruleForm2,"name",t)},expression:"ruleForm2.name"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm2")}}},[e._v("确 定")]),e._v(" "),s("el-button",{on:{click:function(t){return e.resetForm("ruleForm2")}}},[e._v("重 置")])],1)],1)],1)}),[],!1,null,"75846f12",null).exports},data:function(){return{userListData:[],dialogVisible:!1,title:"",formkey:0}},methods:{addUserFn:function(){this.dialogVisible=!0,this.title="添加",this.formkey=0},handleEdit:function(e,t){this.dialogVisible=!0,this.title="编辑",this.formkey=+t.id},successCallback:function(){this.dialogVisible=!1,this.getList()},handleDelete:function(e,t){var s=this;return n()(o.a.mark((function e(){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.$axios.post("/goodcategory/del",{id:t.id});case 2:"200"==(r=e.sent).status?(s.$message({showClose:!0,message:r.data.message,type:"success"}),s.getList()):console.error(r.statusText);case 4:case"end":return e.stop()}}),e,s)})))()},getList:function(){var e=this;this.$request.fetchGoodCategoryList().then((function(t){e.userListData=t.data.rows})).catch((function(e){console.log(e)}))}},mounted:function(){this.getList()}},u=Object(l.a)(c,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"cardshadow roleListTable"},[s("div",[s("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"mini",plain:""},on:{click:e.addUserFn}},[e._v("添加")])],1),e._v(" "),s("el-table",{attrs:{data:e.userListData}},[s("el-table-column",{attrs:{fixed:"",prop:"created_at",label:"创建时间"}}),e._v(" "),s("el-table-column",{attrs:{prop:"name",label:"分类名称"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini"},on:{click:function(s){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),e.dialogVisible?s("page-form",{attrs:{title:e.title,dialogVisible:e.dialogVisible,formkey:e.formkey},on:{successCallback:e.successCallback}}):e._e()],1)}),[],!1,null,"31c2fd17",null);t.default=u.exports},Wb2Z:function(e,t,s){}}]);
//# sourceMappingURL=5.94be8f7a5c00a80c6139.js.map